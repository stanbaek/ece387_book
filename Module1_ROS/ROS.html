

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Robotics Operating System (ROS) &#8212; Introduction to Robotic Systems</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script src="../_static/tabs.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Module1_ROS/ROS';</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ICE1: Talker and Listener" href="ICE1_ListenerTalker.html" />
    <link rel="prev" title="üêç Python Tutorials" href="../python.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/ece387.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/ece387.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    ECE 387 Introduction to Robotic Systems
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Course Info</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../syllabus.html">üìå Syllabus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schedule.html">üìÜ Course Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python.html">üêç Python Tutorials</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Module 1</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Robotics Operating System (ROS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="ICE1_ListenerTalker.html">ICE1: Talker and Listener</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Module 2</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Module2_Linux/Linux.html">Module 2: Linux for Robotics</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Module 3</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Module3_Python3/Python3.html">Python3 for Robotics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Module3_Python3/ROS.html">ICE3: ROS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Module3_Python3/RPSComputer.html">Module 3: Python3 for Robotics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Module3_Python3/ICE3_ClientServer.html">ICE3 - Client and Server</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Module 4</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Module4_DrivingTheRobot/DrivingTheRobot.html">Driving the Robot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Module4_DrivingTheRobot/ICE4_DrivingTheRobot.html">ICE4: Driving the Robot</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Module 5</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Module5_CustomMessages/CustomMessages.html">Custom Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Module5_CustomMessages/Lab1_CustomMessages.html">Lab 1: Custom Messages</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Module 6</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Module6_IMU/IMU.html">Inertial Measurement Unit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Module6_IMU/Lab2_IMU.html">Lab 2: Inertial Measurement Unit</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Module 7</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Module7_LaunchFile/LaunchFile.html">Launch Files</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Module 8</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Module8_LIDAR/LIDAR.html">LIDAR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Module8_LIDAR/Lab3_LIDAR.html">Lab 3: LIDAR</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Module 9</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Module9_CV/computer_vision.html">Computer Vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Module9_CV/Lab4_ComputerVision.html">Lab 4: Computer Vision</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Module 10</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Module10_FinalProject/FinalProject.html">Module 10: Final Project</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Appendix/RobotSetup.html">Robot Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendix/MasterSetup.html">Master Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendix/GitSetup.html">Module 0: Setting Up GIT Repositories</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/stanbaek/ece387" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/stanbaek/ece387/issues/new?title=Issue%20on%20page%20%2FModule1_ROS/ROS.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Module1_ROS/ROS.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Robotics Operating System (ROS)</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#purpose">Purpose</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ros-introduction">ROS Introduction.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-up-the-terminal-for-ros">Setting up the terminal for ROS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#running-the-turtlebot3-simulation">Running the TurtleBot3 simulation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#common-ros-commands">Common ROS commands</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cleanup">Cleanup</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="robotics-operating-system-ros">
<h1>Robotics Operating System (ROS)<a class="headerlink" href="#robotics-operating-system-ros" title="Permalink to this heading">#</a></h1>
<section id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this heading">#</a></h2>
<p>This lecture accompanies the introduction to ROS notetaker used in class. We will apply the knowledge you learned by interacting with a simulated TurlteBot3 Burger.</p>
</section>
<section id="ros-introduction">
<h2>ROS Introduction.<a class="headerlink" href="#ros-introduction" title="Permalink to this heading">#</a></h2>
<p>Robotics Operating System (<a class="reference external" href="https://www.ros.org/about-ros/">https://www.ros.org/about-ros/</a>):</p>
<p>The Robot Operating System (ROS) is a flexible framework for writing robot software. It is a collection of tools, libraries, and conventions that aim to simplify the task of creating complex and robust robot behavior across a wide variety of robotic platforms. ROS is sometimes called a meta operating system because it performs many functions of an operating system, but it requires a computer‚Äôs operating system such as Linux.</p>
<p>Why? Because creating truly robust, general-purpose robot software is hard. From the robot‚Äôs perspective, problems that seem trivial to humans often vary wildly between instances of tasks and environments. Dealing with these variations is so hard that no single individual, laboratory, or institution can hope to do it on their own.</p>
<p>As a result, ROS was built from the ground up to encourage collaborative robotics software development. For example, one laboratory might have experts in mapping indoor environments, and could contribute a world-class system for producing maps. Another group might have experts at using maps to navigate, and yet another group might have discovered a computer vision approach that works well for recognizing small objects in clutter. ROS was designed specifically for groups like these to collaborate and build upon each other‚Äôs work, as is described throughout this site.</p>
<p>Noetic Ninjemys (<a class="reference external" href="http://wiki.ros.org/noetic">http://wiki.ros.org/noetic</a>):</p>
</section>
<section id="setting-up-the-terminal-for-ros">
<h2>Setting up the terminal for ROS<a class="headerlink" href="#setting-up-the-terminal-for-ros" title="Permalink to this heading">#</a></h2>
<ol class="arabic">
<li><p>Open a new Linux terminal by pressing:</p>
<p><code class="docutils literal notranslate"><span class="pre">ctrl+alt+t</span></code>
<br></p>
</li>
<li><p>Change to your root directory:</p>
<p><code class="docutils literal notranslate"><span class="pre">cd</span></code></p>
<p>When the <code class="docutils literal notranslate"><span class="pre">cd</span></code> command has no arguments, it changes to the user‚Äôs home directory. The command <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">..</span></code> will move up one level.
<br></p>
</li>
<li><p>Print the working directory:</p>
<p><code class="docutils literal notranslate"><span class="pre">pwd</span></code>
<br></p>
</li>
<li><p>List the contents of the current directory:</p>
<p><code class="docutils literal notranslate"><span class="pre">ls</span></code>
<br></p>
</li>
<li><p>Change directory to your master_ws folder:</p>
<p><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">master_ws</span></code>
<br></p>
</li>
<li><p>List the contents of the current directory:</p>
<p><code class="docutils literal notranslate"><span class="pre">ls</span></code>
<br></p>
</li>
<li><p>Change directory to your devel folder:</p>
<p><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">devel</span></code>
<br></p>
</li>
<li><p>You should notice a setup.bash file in the devel folder. Source this file allowing you to call your ROS packages:</p>
<p><code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">setup.bash</span></code>
<br></p>
</li>
<li><p>Open your .bashrc file (a script that is ran every time a new terminal instance is opened):</p>
<p><code class="docutils literal notranslate"><span class="pre">nano</span> <span class="pre">~/.bashrc</span></code></p>
<p>This command is ran with sudo priveleges as the .bashrc is a system level file. The ‚Äò~‚Äô character indicates the .bashrc file is in the user‚Äôs home directory and allows us to access it from anywhere in the file system (would be the same as using the absolute path <code class="docutils literal notranslate"><span class="pre">nano</span> <span class="pre">/dfec/home/.bashrc</span></code> ).</p>
</li>
<li><p>Scroll to the bottom of the file. You should see a few lines of code such as the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">source</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ros</span><span class="o">/</span><span class="n">noetic</span><span class="o">/</span><span class="n">setup</span><span class="o">.</span><span class="n">bash</span>
    <span class="n">source</span> <span class="o">~/</span><span class="n">master_ws</span><span class="o">/</span><span class="n">devel</span><span class="o">/</span><span class="n">setup</span><span class="o">.</span><span class="n">bash</span>
    <span class="n">export</span> <span class="n">ROS_PACKAGE_PATH</span><span class="o">=~/</span><span class="n">master_ws</span><span class="o">/</span><span class="n">src</span><span class="p">:</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ros</span><span class="o">/</span><span class="n">noetic</span><span class="o">/</span><span class="n">share</span>
    <span class="n">export</span> <span class="n">ROS_MASTER_URI</span><span class="o">=</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">master</span><span class="p">:</span><span class="mi">11311</span>
    <span class="n">export</span> <span class="n">EDITOR</span><span class="o">=</span><span class="s1">&#39;nano -w&#39;</span>
</pre></div>
</div>
 <br>
 The first three lines set up the ROS environment allowing access to built-in packages and packages within your master workspace. Line 4 establishes which system hosts the ROS network. You can replace master with your robot, and the entire ROS network would run on your robot.
 Hit ctrl+s to save, then ctrl+x to exit.
 <br>
 You need to source (execute) the .bashrc file any time the file is changed (the .bashrc file is ran every time a new terminal is opened, but since we haven't opened a new terminal yet, we have to run it manually).
 <br>
 <br>
</li>
<li><p>Execute the .bashrc file</p>
<p><code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">~/.bashrc</span></code></p>
</li>
</ol>
</section>
<section id="running-the-turtlebot3-simulation">
<h2>Running the TurtleBot3 simulation<a class="headerlink" href="#running-the-turtlebot3-simulation" title="Permalink to this heading">#</a></h2>
<p>The best way to learn about ROS is through implementation, however, let‚Äôs start off by playing around with a virtual TurtleBot3! The TurtleBot3 is a tool we will utilize throughout this course to apply and integrate robotics systems. Ultimately you will create a complex embedded robotics system to perform a specific dedicated task, such as navigating the halls of DFEC. But let‚Äôs see if we can get the robot to drive around first.</p>
<ol class="arabic">
<li><p>In a terminal (<strong>Pro tip:</strong> ctrl+alt+t opens a new terminal window, while ctrl+shift+t opens a new terminal tab in an existing window) and initialize the ROS network:</p>
<p><code class="docutils literal notranslate"><span class="pre">roscore</span></code></p>
</li>
<li><p>That terminal is now occupied. Open a new terminal tab/window and launch the TurtleBot3 gazebo launch file (A launch file is a way to run one or more nodes at once, we will learn about launch files later):</p>
<p><code class="docutils literal notranslate"><span class="pre">roslaunch</span> <span class="pre">turtlebot3_gazebo</span> <span class="pre">turtlebot3_world.launch</span></code></p>
</li>
</ol>
<blockquote>
<div><p>‚å®Ô∏è <strong>Syntax:</strong> <code class="docutils literal notranslate"><span class="pre">roslaunch</span> <span class="pre">&lt;package&gt;</span> <span class="pre">&lt;launchfile&gt;</span></code></p>
</div></blockquote>
<ol class="arabic" start="3">
<li><p>Open another terminal tab/window and launch the following:</p>
<p><code class="docutils literal notranslate"><span class="pre">roslaunch</span> <span class="pre">turtlebot3_gazebo</span> <span class="pre">turtlebot3_gazebo_rviz.launch</span></code></p>
</li>
</ol>
<p>The launch files will run the nodes necessary to simulate our robot and opens two windows: Gazebo and rviz. Gazebo is a simulation tool that provides physics for our robot and enables the testing of algorithms prior to real-world implementation. You should see a TurtleBot3 sitting at (-2.0, -0.5) facing the positive x direction surrounded by a maze. Using the mouse, left-click and holding will pan, holding the scroll wheel will change the orientation of the camera, and scrolling will zoom in and out.</p>
<p>The second window is rviz, a tool that visualizes topics interacting in our system. You should see a number of red dots outlining the location of the obstacles in our simulation. These are objects detected by our LIDAR which is communicating over a scan topic. Using the mouse, left-click will change the orientation of the camera, holding the scroll wheel will pan, and scrolling will zoom in and out (would be nice if they were the same).</p>
<p>Don‚Äôt worry! We will learn more about both of these tools at a later time.</p>
<p>Let‚Äôs go ahead and take a look at what nodes and topics currently running in our system.</p>
<p>The ‚Äú!‚Äù character in front of the following commands allows us to run bash commands from the Jupyter NB and would <strong>NOT</strong> be used in the command line.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rosnode</span> <span class="nb">list</span>
</pre></div>
</div>
<p>There are five nodes running, the first two enable the Gazebo simulation, the third allows for the visualization of the simulated robot, the fourth is created every time <em>roscore</em> is ran and helps with communication in our network, and the last enables rviz.</p>
<p>Not too exciting yet, so lets see what topics are active.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rostopic</span> <span class="nb">list</span>
</pre></div>
</div>
<p>There are a lot of topics that are utilized to simulate our robot. Our real-world robot will eventually have most of these, such as <strong>/cmd_vel</strong>, <strong>/imu</strong>, and <strong>/scan</strong>. These are topics that allow us to communicate with some of the simulated hardware, such as the orientation sensor (/imu), LIDAR (/scan), and driving the robot (/cmd_vel). The rest of the topics enable visualization and movement within the simulation and can be ignored for now.</p>
<p>Another useful tool for visualizing nodes and topics is called <em>rqt_graph</em>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rqt_graph</span>
</pre></div>
</div>
<p>All that is going on right now is Gazebo is publishing the position and scan data which rviz uses to visualize the robot. <strong>Close your rqt_graph</strong> and let‚Äôs add another node to make things a bit more interesting.</p>
<p>Earlier we saw the topic <strong>/cmd_vel</strong>. This is a topic used to send <em>Twist</em> messages to a robot. A <em>Twist</em> message includes linear and angular x, y, z values to move a robot in a 3-dimensional space (google <code class="docutils literal notranslate"><span class="pre">ROS</span> <span class="pre">twist</span> <span class="pre">message</span></code> for more information). Our robot only drives in 2-dimensions and the wheels can only move forward and backward, so we will only use the linear x (forward and backward) and angular z (turning) attributes of the <em>Twist</em> message. To drive our simulated robot, we need a node that can publish <em>Twist</em> messages to the <strong>/cmd_vel</strong> topic. Luckily, there is a pre-built node called Teleop_Twist_Keyboard that sends <em>Twist</em> messages using a keyboard!</p>
<p>Open a new terminal tab (select the terminal and press ctrl+shift+t) and run the following (<strong>Pro tip</strong>: in a Linux terminal if you type the first couple letters of a command and then hit tab it will autocomplete the command for you):</p>
<p><code class="docutils literal notranslate"><span class="pre">rosrun</span> <span class="pre">teleop_twist_keyboard</span> <span class="pre">teleop_twist_keyboard.py</span></code></p>
<blockquote>
<div><p>‚å®Ô∏è <strong>Syntax:</strong> <code class="docutils literal notranslate"><span class="pre">rosrun</span> <span class="pre">&lt;package&gt;</span> <span class="pre">&lt;executable&gt;</span></code></p>
</div></blockquote>
<p>To drive the robot use the ‚Äòx‚Äô key to decrease linear x speed to about .25 m/s and use the ‚Äòc‚Äô key to decrease angular z speed to about .5 rad/s. Now follow the directions to utilize the keyboard to drive the robot! You should see the robot move in the simulation.</p>
<p>Let‚Äôs take a look at our rqt_graph to see if anything has changed.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rqt_graph</span>
</pre></div>
</div>
<p>You should now see the teleop_twist_keyboard node which sends messages over <strong>/cmd_vel</strong> topic to Gazebo. <strong>Close the rqt_graph window</strong>. Let‚Äôs run through a number of commands that will provide you more information about your ROS network. You will use these throughout the course to determine what is going on in your ROS network.</p>
</section>
<section id="common-ros-commands">
<h2>Common ROS commands<a class="headerlink" href="#common-ros-commands" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">rosnode</span></code> command allows us to interact with nodes. Typing any ROS command followd by <code class="docutils literal notranslate"><span class="pre">--help</span></code> will provide information about that command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rosnode</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
<p>Let‚Äôs get some information about our new node, teleop_twist_keyboard:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rosnode</span> <span class="n">info</span> <span class="o">/</span><span class="n">teleop_twist_keyboard</span>
</pre></div>
</div>
<p>The output of the command lists the topics the node is publishing and subscribing to (here is where we can see it publishes on <strong>/cmd_vel</strong>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">rostopic</span></code> command interacts with topics.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rostopic</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
<p>Some of the common rostopic commands we will use in this course are <code class="docutils literal notranslate"><span class="pre">echo</span></code>, <code class="docutils literal notranslate"><span class="pre">hz</span></code>, <code class="docutils literal notranslate"><span class="pre">info</span></code>,  <code class="docutils literal notranslate"><span class="pre">type</span></code>, and <code class="docutils literal notranslate"><span class="pre">list</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rostopic</span> <span class="nb">list</span>
</pre></div>
</div>
<p>Let‚Äôs get some information about the <strong>/cmd_vel</strong> topic.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rostopic</span> <span class="n">info</span> <span class="o">/</span><span class="n">cmd_vel</span>
</pre></div>
</div>
<p>From the output we can see what nodes are publishing and subscribing to the <strong>/cmd_vel</strong> topic.</p>
<p>Echoing the topic will allow us to see what messages are sent over the topic. After running the below command, browse back to your teleop_twist_keyboard node and drive the robot. You should see the twist messages sent to Gazebo.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rostopic</span> <span class="n">echo</span> <span class="o">/</span><span class="n">cmd_vel</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When moving forward and backward (‚Äòi‚Äô and ‚Äò,‚Äô keys) only a linear x value is sent, when turning left or right (‚Äòj‚Äô and ‚Äòl‚Äô keys) only an angular z value is sent, and when arcing (‚Äòu‚Äô, ‚Äòo‚Äô, ‚Äòm‚Äô, and ‚Äò.‚Äô keys) both a linear x and angular z value are sent.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The previous command still has an <code class="docutils literal notranslate"><span class="pre">*</span></code> character to the left. This means this command is waiting for inputs and will block all future commands. To kill the command and restart the kernel in the Jupyter Notebook at the top menu bar select ‚ÄúKernel‚Äù and ‚ÄúRestart &amp; Clear Output‚Äù. This will allow future commands to run.</p>
</div>
<p>To learn more about the messages sent over the <strong>/cmd_vel</strong> topic we can use the <code class="docutils literal notranslate"><span class="pre">type</span></code> command and the <code class="docutils literal notranslate"><span class="pre">rosmsg</span></code> tool.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rostopic</span> <span class="nb">type</span> <span class="o">/</span><span class="n">cmd_vel</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rosmsg</span> <span class="n">show</span> <span class="n">geometry_msgs</span><span class="o">/</span><span class="n">Twist</span>
</pre></div>
</div>
<p>Or in one combined command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rostopic</span> <span class="nb">type</span> <span class="o">/</span><span class="n">cmd_vel</span> <span class="o">|</span> <span class="n">rosmsg</span> <span class="n">show</span>
</pre></div>
</div>
</section>
<section id="cleanup">
<h2>Cleanup<a class="headerlink" href="#cleanup" title="Permalink to this heading">#</a></h2>
<p>Before moving on to the in-class exercise, close all running nodes. In the Jupyter Notebook at the top menu bar select ‚ÄúKernel‚Äù and ‚ÄúRestart &amp; Clear Output‚Äù. In each terminal window, close the node by typing <code class="docutils literal notranslate"><span class="pre">ctrl+c</span></code>. Ensure roscore is terminated before moving on to the ICE.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Module1_ROS"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="../python.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">üêç Python Tutorials</p>
      </div>
    </a>
    <a class="right-next"
       href="ICE1_ListenerTalker.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">ICE1: Talker and Listener</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#purpose">Purpose</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ros-introduction">ROS Introduction.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-up-the-terminal-for-ros">Setting up the terminal for ROS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#running-the-turtlebot3-simulation">Running the TurtleBot3 simulation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#common-ros-commands">Common ROS commands</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cleanup">Cleanup</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Stan Baek
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      ¬© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>